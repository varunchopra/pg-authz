{% extends "base.html" %}

{% block title %}Join {{ invite.org_name }}{% endblock %}

{% block content %}
<div class="page-header" style="text-align: center;">
    <h1>Join {{ invite.org_name }}</h1>
</div>

<div class="invite-card">
    <div class="invite-details">
        <p>You've been invited to join <strong>{{ invite.org_name }}</strong> as a <strong>{{ invite.role }}</strong>.</p>

        {% if invite.email %}
        <p class="invite-note">This invite is for: {{ invite.email }}</p>
        {% endif %}

        <p class="invite-expires">Expires: {{ invite.expires_at.strftime('%B %d, %Y at %H:%M UTC') }}</p>
    </div>

    {% if is_logged_in %}
    <form action="{{ url_for('views.orgs.accept_invite', code=invite.code) }}" method="post">
        <button type="submit" class="btn btn-primary btn-lg">Accept Invitation</button>
    </form>
    {% else %}
    <div class="invite-actions">
        <p>Please log in or create an account to accept this invitation.</p>
        <div class="btn-group">
            <a href="{{ url_for('views.auth.login') }}?next={{ request.path | urlencode }}" class="btn btn-primary">Log In</a>
            <a href="{{ url_for('views.auth.signup') }}?next={{ request.path | urlencode }}" class="btn btn-secondary">Sign Up</a>
        </div>
    </div>
    {% endif %}
</div>

<style>
.invite-card {
    max-width: 500px;
    margin: 0 auto;
    text-align: center;
}
.invite-details {
    margin: 24px 0;
    padding: 16px;
    background: var(--bg-secondary);
    border-radius: 4px;
}
.invite-note {
    color: var(--text-secondary);
    font-size: 14px;
}
.invite-expires {
    color: var(--text-secondary);
    font-size: 13px;
    margin-top: 8px;
}
.invite-actions {
    margin-top: 24px;
}
.btn-group {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-top: 1rem;
}
</style>
{% endblock %}
